syntax = "proto3";

import "google/protobuf/timestamp.proto";

package message;

service MessageService {
    rpc SendMessage (SendMessageRequest) returns (SendMessageResponse) {}
    rpc GetAllMessages (GetAllMessagesRequest) returns (AllMessages) {}
}

message SendMessageRequest {
    int32 user_id = 1;
    int32 chat_id = 3;
    string content = 4;
}

message SendMessageResponse {
    string message_id = 2;
    google.protobuf.Timestamp created_at = 3;
}

message Message {
    string message_id = 1;
    int32 chat_id = 2;
    int32 user_id = 3;
    string username = 4;
    string content = 5;
    google.protobuf.Timestamp created_at = 6;
}

message GetAllMessagesRequest {
    int32 chat_id = 1;
}

message AllMessages {
    repeated Message messages = 1;
}
